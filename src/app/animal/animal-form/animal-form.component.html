<form #animalForm="ngForm" (ngSubmit)="onSubmit()" *ngIf="model; else loading">
  <label for="name">Nom</label>
  <input
    type="text"
    id="name"
    [(ngModel)]="model.name"
    name="name"
    #nameCtrl="ngModel"
    required
  />
  <br />
  <p *ngIf="animalForm.submitted && nameCtrl.errors?.['required']">
    Ce champ est requis.
  </p>

  <label for="species">Espèce</label>
  <input
    type="text"
    id="species"
    [(ngModel)]="model.species"
    name="species"
    #speciesCtrl="ngModel"
    required
  />
  <br />
  <p *ngIf="animalForm.submitted && speciesCtrl.errors?.['required']">
    Ce champ est requis.
  </p>

  <label for="veterinarian">Vétérinaire</label>
  <input
    type="text"
    id="veterinarian"
    [(ngModel)]="model.veterinarian"
    name="veterinarian"
    #vetCtrl="ngModel"
    required
    minlength="4"
  />
  <br />
  <p *ngIf="animalForm.submitted && vetCtrl.errors?.['required']">
    Ce champ est requis.
  </p>
  <p *ngIf="animalForm.submitted && vetCtrl.errors?.['minlength']">
    Ce champ nécessite
    {{ vetCtrl.errors?.['minlength'].requiredLength }} caractères.
  </p>

  <label for="email">Email</label>
  <input type="email" id="email" [(ngModel)]="model.email" name="email" />
  <br />

  <label for="phoneNumber">Téléphone</label>
  <input
    type="text"
    id="phoneNumber"
    [(ngModel)]="model.phoneNumber"
    name="phoneNumber"
  />
  <br />

  <label for="comment">Commentaire</label>
  <textarea id="comment" [(ngModel)]="model.comment" name="comment"></textarea>
  <br />

  <button type="submit">Envoyer</button>
</form>

<ng-template #loading>Chargement..</ng-template>
